<!DOCTYPE html>
<html>

	<body>
		<div data-role="page">
			<script>
				var onSuccess = function(position) {
					var altitudine = position.coords.altitude == null? "Attendere segnale gps...": "Altitudine: " + position.coords.altitude;
					var accuratezzaAlt = position.coords.altitudeAccuracy == null? "Non disponibile per android": 'Accuratezza Altitudine: ' + position.coords.altitudeAccuracy;
					var gradi = position.coords.heading == null? "Attendere segnale gps...": 'Gradi: ' + position.coords.heading;
					var velo = position.coords.speed == null? "Attendere segnale gps...": 'Velocit&agrave: ' + position.coords.speed;
					
			    	document.getElementById("content").innerHTML = 
			    	  'Latitudine: '          + position.coords.latitude          + '<br>' +
			          'Longitudine: '         + position.coords.longitude         + '<br>' +
			          'Accuratezza: ' 		  + position.coords.accuracy  		  + '<br>' +
			          altitudine + '<br>' + accuratezzaAlt + '<br>' + gradi + '<br>' + velo + '<br>' + 
			          'Timestamp: '           + position.timestamp                + '<br>';
				};
			
				// onError Callback receives a PositionError object
				//
				function onError(error) {
				    document.getElementById("content") = 
				    	  'Codice errore: '    + error.code    + '<br>' +
				          'Messaggio errore: ' + error.message + '<br>';
				}
		
				var wid = navigator.geolocation.watchPosition(onSuccess, onError, {frequency: 3000, enableHighAccuracy: true});
				if (firstimeGeoloc === true){
					$(this).bind("pageremove", function(){navigator.geolocation.clearWatch(wid)});
					firstimeGeoloc === false;
				}
			</script>
		 	<div data-role="header">
				<h3>Geolocazione</h3>
			</div>
			
			<div data-role="content">
				<div id="content" ></div>
						
			</div>
		 </div>
	</body>
</html>